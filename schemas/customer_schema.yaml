name: customer
version: "1.0"
description: "Customer dimension - as per Database_schema.md"

columns:
  - name: customer_id
    type: BIGINT
    nullable: false
    comment: "Customer ID (primary key)"
  - name: external_ref
    type: STRING
    nullable: true
    comment: "External reference ID"
  - name: first_name
    type: STRING
    nullable: false
    comment: "First name"
  - name: last_name
    type: STRING
    nullable: false
    comment: "Last name"
  - name: email
    type: STRING
    nullable: false
    comment: "Email address"
  - name: phone
    type: STRING
    nullable: true
    comment: "Phone number"
  - name: dob
    type: DATE
    nullable: true
    comment: "Date of birth"
  - name: segment
    type: STRING
    nullable: true
    comment: "Customer segment (budget, premium, family, convenience)"
  - name: status
    type: STRING
    nullable: false
    comment: "Customer status (default: active)"
  - name: created_at
    type: TIMESTAMP
    nullable: false
    comment: "Record creation timestamp"
  - name: updated_at
    type: TIMESTAMP
    nullable: false
    comment: "Record last update timestamp"
  - name: last_update_dttm
    type: TIMESTAMP
    nullable: false
    comment: "Last update timestamp for CDC sequencing"

primary_key: [customer_id]

